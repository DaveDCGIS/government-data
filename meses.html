<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Highcharts Example</title>

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highcharts/3.0.7/highcharts.js"></script>
        <script src="http://code.highcharts.com/modules/drilldown.js"></script>
        
		<script type="text/javascript">
$(function () {
var DATA = {
'01/13': {'BA': 1807704, 'DF': 95106, 'PR': 448329, 'RR': 47134, 'RS': 463345, 'PB': 505512, 'TO': 139386, 'PA': 811768, 'PE': 1149172, 'RN': 364419, 'PI': 455230, 'RJ': 789326, 'AC': 68940, 'AM': 328647, 'AL': 435406, 'CE': 1106056, 'AP': 53310, 'GO': 345908, 'ES': 201874, 'MG': 1195735, 'RO': 117629, 'MA': 949723, 'SP': 1254638, 'MT': 183726, 'MS': 141678, 'SC': 146472, 'SE': 268222},
'02/13': {'BA': 1771438, 'DF': 91639, 'PR': 428462, 'RR': 46524, 'RS': 449131, 'PB': 497818, 'TO': 134916, 'PA': 798281, 'PE': 1129492, 'RN': 356986, 'PI': 448561, 'RJ': 771773, 'AC': 67583, 'AM': 323466, 'AL': 426612, 'CE': 1080304, 'AP': 52482, 'GO': 337391, 'ES': 194763, 'MG': 1158115, 'RO': 114203, 'MA': 936216, 'SP': 1266166, 'MT': 178021, 'MS': 137023, 'SC': 141472, 'SE': 263701},
'03/13': {'BA': 1802461, 'DF': 91120, 'PR': 443783, 'RR': 47035, 'RS': 460709, 'PB': 504202, 'TO': 138327, 'PA': 823918, 'PE': 1143445, 'RN': 362941, 'PI': 452674, 'RJ': 825425, 'AC': 72452, 'AM': 334373, 'AL': 431547, 'CE': 1094767, 'AP': 53723, 'GO': 346127, 'ES': 204198, 'MG': 1191226, 'RO': 117758, 'MA': 946562, 'SP': 1318264, 'MT': 182144, 'MS': 140441, 'SC': 147389, 'SE': 265906},
'04/13': {'BA': 1782313, 'DF': 85153, 'PR': 431390, 'RR': 46434, 'RS': 447581, 'PB': 499087, 'TO': 136692, 'PA': 818870, 'PE': 1129516, 'RN': 358635, 'PI': 448229, 'RJ': 810614, 'AC': 71695, 'AM': 331447, 'AL': 426328, 'CE': 1083417, 'AP': 53365, 'GO': 339697, 'ES': 200232, 'MG': 1163178, 'RO': 116418, 'MA': 940860, 'SP': 1279688, 'MT': 179129, 'MS': 137422, 'SC': 142854, 'SE': 262659},
'05/13': {'BA': 1781563, 'DF': 93496, 'PR': 438080, 'RR': 46765, 'RS': 456600, 'PB': 502801, 'TO': 137525, 'PA': 822133, 'PE': 1133646, 'RN': 360757, 'PI': 448502, 'RJ': 823842, 'AC': 72075, 'AM': 335234, 'AL': 425280, 'CE': 1080888, 'AP': 52982, 'GO': 343126, 'ES': 202610, 'MG': 1179571, 'RO': 116263, 'MA': 941443, 'SP': 1310577, 'MT': 181948, 'MS': 140144, 'SC': 145481, 'SE': 263683},
'06/13': {'BA': 1772690, 'DF': 92213, 'PR': 432282, 'RR': 46526, 'RS': 448534, 'PB': 500547, 'TO': 137185, 'PA': 816852, 'PE': 1123950, 'RN': 357277, 'PI': 445487, 'RJ': 809346, 'AC': 72499, 'AM': 333653, 'AL': 426575, 'CE': 1078661, 'AP': 52682, 'GO': 339277, 'ES': 199038, 'MG': 1166425, 'RO': 114816, 'MA': 935855, 'SP': 1288913, 'MT': 180512, 'MS': 138538, 'SC': 143679, 'SE': 263425},
'07/13': {'BA': 1789811, 'SP': 1305561, 'MG': 1178222, 'PE': 1134309, 'CE': 1091708, 'MA': 953854, 'PA': 828733, 'RJ': 822906, 'PB': 505852, 'RS': 455766, 'PI': 451899, 'PR': 434283, 'AL': 432804, 'RN': 361109, 'GO': 341945, 'AM': 338516, 'SE': 267010, 'ES': 199824, 'MT': 183859, 'SC': 144707, 'MS': 141226, 'TO': 138506, 'RO': 117400, 'DF': 93027, 'AC': 73785, 'AP': 53375, 'RR': 47081}, 
'08/13': {'BA': 1799694, 'DF': 88385, 'PR': 427754, 'RR': 46853, 'RS': 452548, 'PB': 505995, 'TO': 137780, 'PA': 836921, 'PE': 1144554, 'RN': 360625, 'PI': 451717, 'RJ': 820634, 'AC': 74041, 'AM': 340614, 'AL': 436854, 'CE': 1096089, 'AP': 53110, 'GO': 340224, 'ES': 197589, 'MG': 1168223, 'RO': 117664, 'MA': 962484, 'SP': 1294421, 'MT': 183924, 'MS': 141307, 'SC': 142444, 'SE': 270961},
'09/13': {'BA': 1809356, 'SP': 1300476, 'MG': 1175070, 'PE': 1153427, 'CE': 1100454, 'MA': 967980, 'PA': 844208, 'RJ': 824840, 'PB': 508096, 'RS': 454447, 'PI': 452330, 'AL': 442556, 'PR': 428045, 'RN': 363929, 'AM': 345347, 'GO': 342807, 'SE': 274150, 'ES': 198572, 'MT': 185715, 'MS': 143189, 'SC': 142967, 'TO': 138807, 'RO': 117958, 'DF': 89270, 'AC': 74881, 'AP': 53055, 'RR': 46959},
'10/13': {'BA': 1808973, 'DF': 88937, 'PR': 425583, 'RR': 46903, 'RS': 453317, 'PB': 508854, 'TO': 138767, 'PA': 843194, 'PE': 1154270, 'RN': 363383, 'PI': 452559, 'RJ': 824043, 'AC': 75188, 'AM': 346411, 'AL': 441654, 'CE': 1102588, 'AP': 53024, 'GO': 341888, 'ES': 197605, 'MG': 1172634, 'RO': 117560, 'MA': 967430, 'SP': 1294507, 'MT': 185522, 'MS': 143227, 'SC': 141973, 'SE': 274575},
'11/13': { 'BA': 1795479, 'SP': 1348670, 'MG': 1171223, 'PE': 1144723, 'CE': 1094049, 'MA': 963382, 'PA': 843135, 'RJ': 834939, 'PB': 504597, 'RS': 450805, 'PI': 450144, 'AL': 438191, 'PR': 426010, 'RN': 360193, 'AM': 345445, 'GO': 338285, 'SE': 272264, 'ES': 196854, 'MT': 184355, 'SC': 142795, 'MS': 141766, 'TO': 137860, 'RO': 117081, 'DF': 88550, 'AC': 74801, 'AP': 53741, 'RR': 46785 }
}
var statesData = [],
    drilldownSeries = [],
    lst = {};
$.each(DATA['11/13'], function (name, y) {
    statesData.push({
        name: name, 
        y: y,
        drilldown: name
    });
    lst[name] = []
});
$.each(DATA, function (month, data_list) {
    $.each(data_list, function (state, value) {
        lst[state].push([month, value]);
    });
});
console.log(lst);
$.each(lst, function (month, data) {
    drilldownSeries.push({
        id: month,
        data: data
    });
});
// Create the chart
$('#container').highcharts({
    chart: {
        type: 'column'
    },
    title: {
        text: 'Total de beneficiários do Bolsa Família por estado'
    },
    subtitle: {
        text: 'Clique nas colunas para detalhar por meses'
    },
    xAxis: {
        type: 'category'
    },
    yAxis: {
        title: {
            text: 'Número de beneficiários'
        }
    },
    legend: {
        enabled: false
    },
    plotOptions: {
        series: {
            borderWidth: 0,
            dataLabels: {
                enabled: true,
                formatter: function() {
                    y = this.y.toString();
                    return y.substring(0, y.length -3)+'k';
                }
            }
        }
    },

    tooltip: {
        headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> beneficiários<br/>'
    }, 

    series: [{
        name: 'Estados',
        colorByPoint: true,
        data: statesData
    }],
    drilldown: {
        series: drilldownSeries
    }
});
});
</script>
</head>
<body>
    <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto">
    </div>
</body>
</html>